<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–≠–∫–æ–ª–æ–≥–∏—è –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ê–ª–º–∞—Ç–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://unpkg.com/scrollreveal"></script>
</head>
<body>

<header>
  <button class="menu-toggle" aria-label="Toggle navigation">&#9776;</button>
  <nav class="nav-menu">
    <ul>
      <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
      <li><a href="project-goals.html">–¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞</a></li>
      <li><a href="roadmap.html">–†–æ–∞–¥–º–∞–ø</a></li>
      <li><a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
      <li><a href="about.html">–û –Ω–∞—Å</a></li>
    </ul>
  </nav>
</header>

<section class="hero">
  <div class="hero-content">
    <h1>–≠–∫–æ–ª–æ–≥–∏—è –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ê–ª–º–∞—Ç–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h1>
    <p>–°–ª–µ–¥–∏–º –∑–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–µ–≥–∏–æ–Ω–∞, –ø—Ä–æ–≤–æ–¥–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ–¥—ã, –≤–æ–∑–¥—É—Ö–∞ –∏ –∑–µ–º–ª–∏.</p>
    <a href="#volunteer" class="btn-main">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ</a>
  </div>
</section>

<!-- ... monitoring sections ... (—Å–æ–∫—Ä–∞—â–µ–Ω–æ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏) ... -->

<section class="volunteer" id="volunteer">
  <h2 class="section-title">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ</h2>
  <form class="volunteer-form">
    <label for="name">–í–∞—à–µ –∏–º—è:</label>
    <input type="text" id="name" name="name" required>
    <label for="email">–í–∞—à email:</label>
    <input type="email" id="email" name="email" required>
    <label for="message">–ü–æ—á–µ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–º?</label>
    <textarea id="message" name="message" rows="4" required></textarea>
    <button type="submit" class="btn-main">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
  </form>

  <div id="crypto-panel" style="margin-top: 30px; background: #f9f9f9; padding: 15px; border-radius: 10px;">
    <h3>üåÄ Fractal Crypt</h3>
    <label>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ JSON:</label>
    <textarea id="input-text" placeholder="–¢–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ JSON –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏..." style="width: 100%; height: 100px;"></textarea>
    <label>–ö–ª—é—á:</label>
    <input id="key" placeholder="–ö–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä: fractal42)" style="width: 100%; margin: 10px 0;">
    <button onclick="encryptText()">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="decryptText()">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
    <pre id="output" style="background: #eee; padding: 10px; border-radius: 5px;"></pre>
  </div>
</section>

<footer>
  <div class="contact-info">
    <h3>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    <p>Email: ecology@organization.kz</p>
    <p>Telegram: @AlmaEco_bot</p>
    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 777 409 44 35</p>
    <p>–ê–¥—Ä–µ—Å: –ê–ª–º–∞—Ç—ã, —É–ª–∏—Ü–∞ –≠–∫–æ–ª–æ–≥–æ–≤ 1</p>
  </div>
  <p>&copy; 2025 –≠–∫–æ–ª–æ–≥–∏—è –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script>
  async function deriveKey(password, salt) {
    const enc = new TextEncoder();
    const baseKey = await crypto.subtle.importKey("raw", enc.encode(password), "PBKDF2", false, ["deriveKey"]);
    return await crypto.subtle.deriveKey({
      name: "PBKDF2",
      salt,
      iterations: 100000,
      hash: "SHA-256"
    }, baseKey, { name: "AES-GCM", length: 256 }, false, ["encrypt", "decrypt"]);
  }

  async function encryptText() {
    const text = document.getElementById("input-text").value;
    const password = document.getElementById("key").value;
    const enc = new TextEncoder();
    const iv = crypto.getRandomValues(new Uint8Array(12));
    const salt = crypto.getRandomValues(new Uint8Array(16));
    const key = await deriveKey(password, salt);
    const encoded = enc.encode(text);
    const encrypted = await crypto.subtle.encrypt({ name: "AES-GCM", iv }, key, encoded);
    const result = {
      iv: Array.from(iv),
      salt: Array.from(salt),
      data: btoa(String.fromCharCode(...new Uint8Array(encrypted)))
    };
    document.getElementById("output").textContent = JSON.stringify(result);
  }

  async function decryptText() {
    const input = document.getElementById("input-text").value;
    const password = document.getElementById("key").value;
    try {
      const { iv, salt, data } = JSON.parse(input);
      const key = await deriveKey(password, new Uint8Array(salt));
      const encryptedBytes = Uint8Array.from(atob(data), c => c.charCodeAt(0));
      const decrypted = await crypto.subtle.decrypt({ name: "AES-GCM", iv: new Uint8Array(iv) }, key, encryptedBytes);
      const dec = new TextDecoder();
      document.getElementById("output").textContent = dec.decode(decrypted);
    } catch (e) {
      document.getElementById("output").textContent = "–û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏.";
    }
  }
</script>

</body>
</html>
